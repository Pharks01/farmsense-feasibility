<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>FarmSense Africa: A Feasibility Study for a Pan-African Agritech Ecosystem</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Canela:wght@300;400;700&amp;family=Inter:wght@300;400;500;600&amp;display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        .canela { font-family: 'Canela', serif; }
        .inter { font-family: 'Inter', sans-serif; }
        .hero-pattern {
            background-image: linear-gradient(135deg, rgba(107, 114, 128, 0.05) 25%, transparent 25%),
                              linear-gradient(225deg, rgba(107, 114, 128, 0.05) 25%, transparent 25%),
                              linear-gradient(45deg, rgba(107, 114, 128, 0.05) 25%, transparent 25%),
                              linear-gradient(315deg, rgba(107, 114, 128, 0.05) 25%, transparent 25%);
            background-size: 60px 60px;
            background-position: 0 0, 30px 0, 30px -30px, 0px 30px;
        }
        .toc-fixed {
            position: fixed;
            top: 0;
            left: 0;
            width: 280px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(0, 0, 0, 0.1);
            z-index: 1000;
            overflow-y: auto;
            padding: 2rem 1.5rem;
        }
        .main-content {
            margin-left: 280px;
            min-height: 100vh;
        }
        .section-spacing {
            padding: 4rem 0;
        }
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
        }
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .citation-link {
            color: #059669;
            text-decoration: none;
            font-weight: 500;
            border-bottom: 1px solid transparent;
            transition: border-color 0.2s ease;
        }
        .citation-link:hover {
            border-bottom-color: #059669;
        }
        .bento-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            grid-template-rows: auto auto;
            gap: 2rem;
            height: 70vh;
        }
        .bento-main {
            grid-row: 1 / -1;
            position: relative;
            overflow: hidden;
            border-radius: 1rem;
        }
        .bento-stat {
            background: linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 100%);
            border-radius: 1rem;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .stat-number {
            font-size: 3rem;
            font-weight: 700;
            color: #059669;
            line-height: 1;
        }
        .pull-quote {
            border-left: 4px solid #059669;
            padding-left: 2rem;
            margin: 3rem 0;
            font-style: italic;
            font-size: 1.125rem;
            color: #374151;
        }
        .mermaid-container {
            display: flex;
            justify-content: center;
            min-height: 300px;
            max-height: 800px;
            background: #ffffff;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
        }

        .mermaid-container .mermaid {
            width: 100%;
            max-width: 100%;
            height: 100%;
            cursor: grab;
            transition: transform 0.3s ease;
            transform-origin: center center;
            display: flex;
            justify-content: center;
            align-items: center;
            touch-action: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .mermaid-container .mermaid svg {
            max-width: 100%;
            height: 100%;
            display: block;
            margin: 0 auto;
        }

        .mermaid-container .mermaid:active {
            cursor: grabbing;
        }

        .mermaid-container.zoomed .mermaid {
            height: 100%;
            width: 100%;
            cursor: grab;
        }

        .mermaid-controls {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            gap: 10px;
            z-index: 20;
            background: rgba(255, 255, 255, 0.95);
            padding: 8px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .mermaid-control-btn {
            background: #ffffff;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #374151;
            font-size: 14px;
            min-width: 36px;
            height: 36px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mermaid-control-btn:hover {
            background: #f8fafc;
            border-color: #3b82f6;
            color: #3b82f6;
            transform: translateY(-1px);
        }

        .mermaid-control-btn:active {
            transform: scale(0.95);
        }

        @media (max-width: 1024px) {
            .toc-fixed {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }
            .toc-fixed.open {
                transform: translateX(0);
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            }
            .main-content {
                margin-left: 0;
            }
            .bento-grid {
                grid-template-columns: 1fr;
                height: auto;
            }
            .mermaid-control-btn:not(.reset-zoom) {
                display: none;
            }
            .mermaid-controls {
                top: auto;
                bottom: 15px;
                right: 15px;
            }
        }
        /* Responsive adjustments for small screens */
        body {
            overflow-x: hidden;
        }
        @media (max-width: 768px) {
            .bento-main .relative h1 {
                font-size: 2.5rem;
            }
            .bento-main .relative p {
                font-size: 1rem;
            }
            .bento-stat {
                padding: 1rem;
            }
            .stat-number {
                font-size: 2rem;
            }
        }
        @media (max-width: 640px) {
            .bento-main .relative h1 {
                font-size: 2rem;
            }
            .bento-main .relative p {
                font-size: 0.9rem;
            }
            .bento-stat p.text-sm {
                font-size: 0.8rem;
            }
        }
        @media (max-width: 390px) {
            .bento-main .relative h1 {
                font-size: 1.75rem;
            }
            .bento-main .relative p {
                font-size: 0.85rem;
            }
        }
    </style>
  <base target="_blank">
</head>

  <body class="bg-gray-50 inter">
    <!-- Table of Contents -->
    <nav class="toc-fixed">
      <div class="mb-8">
        <h2 class="canela text-xl font-bold text-gray-900 mb-4">Contents</h2>
        <div class="space-y-2">
          <a href="#executive-summary" class="block text-sm text-gray-600 hover:text-green-600 transition-colors py-1">Executive Summary</a>
          <a href="#market-feasibility" class="block text-sm text-gray-600 hover:text-green-600 transition-colors py-1">Market Feasibility</a>
          <a href="#technical-feasibility" class="block text-sm text-gray-600 hover:text-green-600 transition-colors py-1">Technical Feasibility</a>
          <a href="#financial-viability" class="block text-sm text-gray-600 hover:text-green-600 transition-colors py-1">Financial Viability</a>
          <a href="#farmer-adoption" class="block text-sm text-gray-600 hover:text-green-600 transition-colors py-1">Farmer Adoption</a>
          <a href="#regulatory-compliance" class="block text-sm text-gray-600 hover:text-green-600 transition-colors py-1">Regulatory Compliance</a>
        </div>
      </div>
      <div class="mt-8 pt-8 border-t border-gray-200">
        <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">Key Metrics</h3>
        <div class="space-y-3">
          <div class="text-sm">
            <div class="font-semibold text-green-600">$269.69B</div>
            <div class="text-gray-600">African Agriculture Market (2025)</div>
          </div>
          <div class="text-sm">
            <div class="font-semibold text-green-600">10.14%</div>
            <div class="text-gray-600">Fresh Vegetables CAGR</div>
          </div>
          <div class="text-sm">
            <div class="font-semibold text-green-600">16.1%</div>
            <div class="text-gray-600">Analytics Market Growth</div>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Hero Section -->
      <section class="relative bg-white hero-pattern">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
          <div class="bento-grid">
            <!-- Main Hero Content -->
            <div class="bento-main relative">
              <img src="https://kimi-web-img.moonshot.cn/img/offgridworld.com/abacb6edb7131d5436f415f937757c6f922b8fc4.jpeg" alt="Aerial view of African agricultural landscape with digital overlay" class="w-full h-full object-cover" size="wallpaper" aspect="wide" color="green" style="photo" query="African farmland aerial view with digital technology overlay" referrerpolicy="no-referrer" data-modified="1" data-score="0.00"/>
              <div class="absolute inset-0 bg-gradient-to-br from-green-900/70 via-green-800/50 to-transparent"></div>
              <div class="absolute inset-0 flex items-center justify-center">
                <div class="text-center text-white max-w-3xl px-4 sm:px-6">
                  <h1 class="canela text-4xl sm:text-5xl lg:text-7xl font-light mb-4 sm:mb-6 leading-tight">
                    <em class="italic">FarmSense</em> Africa
                  </h1>
                  <p class="text-base sm:text-lg lg:text-2xl font-light opacity-90 leading-relaxed">
                    A Feasibility Study for a Pan-African Agritech Ecosystem
                  </p>
                </div>
              </div>
            </div>

            <!-- Key Stats -->
            <div class="bento-stat">
              <div class="stat-number">$269.69B</div>
              <div class="text-gray-700 font-medium">Market Size</div>
              <div class="text-sm text-gray-500 mt-2">African agricultural market projected value for 2025</div>
            </div>

            <div class="bento-stat">
              <div class="stat-number">10.14%</div>
              <div class="text-gray-700 font-medium">Growth Rate</div>
              <div class="text-sm text-gray-500 mt-2">Fresh vegetables market CAGR through 2030</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Executive Summary -->
      <section id="executive-summary" class="section-spacing bg-white">
        <div class="max-w-4xl mx-auto px-6 lg:px-8">
          <div class="fade-in">
            <h2 class="canela text-4xl font-bold text-gray-900 mb-8">Executive Summary</h2>

            <div class="prose prose-lg max-w-none">
              <h3 class="canela text-2xl font-semibold text-gray-800 mb-4">Core Vision and Value Proposition</h3>
              <p class="text-gray-700 leading-relaxed mb-6">
                FarmSense Africa is an ambitious initiative to create a pan-African, AI-powered agricultural ecosystem designed to connect the entire value chain—from farm to fork—in a single, unified platform. Its core vision is to become <strong>Africa&#39;s most trustworthy digital agriculture ecosystem</strong>, where every action, from the planting of a seed to the delivery of produce, is <strong>traceable, verified, and financially fair</strong>.
              </p>

              <div class="pull-quote">
                &#34;The platform&#39;s value proposition is built on a foundation of trust and efficiency, addressing the critical pain points of its three primary user segments.&#34;
              </div>

              <h3 class="canela text-2xl font-semibold text-gray-800 mb-4 mt-8">Key Findings on Feasibility</h3>

              <div class="grid md:grid-cols-3 gap-6 my-8">
                <div class="bg-green-50 p-6 rounded-lg">
                  <h4 class="font-semibold text-green-800 mb-2">Market Feasibility</h4>
                  <p class="text-sm text-gray-700">The African agricultural market is vast, with a projected gross production value of <a href="https://www.statista.com/outlook/io/agriculture/africa" class="citation-link">US$269.69 billion in 2025</a>.</p>
                </div>
                <div class="bg-blue-50 p-6 rounded-lg">
                  <h4 class="font-semibold text-blue-800 mb-2">Technical Feasibility</h4>
                  <p class="text-sm text-gray-700">Core technologies—AI, mobile marketplaces, and digital payments—have been successfully implemented across Africa.</p>
                </div>
                <div class="bg-purple-50 p-6 rounded-lg">
                  <h4 class="font-semibold text-purple-800 mb-2">Financial Viability</h4>
                  <p class="text-sm text-gray-700">African agritech funding is robust, with &#34;Ag Marketplaces &amp; Fintech&#34; being the <a href="https://agfundernews.com/ag-marketplaces-fintech-startups-are-the-most-popular-category-of-african-agrifoodtech-investment-in-2024" class="citation-link">most funded category at 41%</a>.</p>
                </div>
              </div>

              <h3 class="canela text-2xl font-semibold text-gray-800 mb-4">Strategic Recommendations</h3>
              <ol class="list-decimal list-inside space-y-3 text-gray-700">
                <li><strong>Prioritize a Phased Rollout:</strong> Begin with focused launches in high-potential markets like Kenya or Nigeria.</li>
                <li><strong>Double Down on Trust-Building:</strong> The escrow system and verification processes are critical differentiators.</li>
                <li><strong>Invest in Human-Centric Approach:</strong> Build a network of local &#34;farmer-agents&#34; for on-the-ground support.</li>
                <li><strong>Forge Strategic Partnerships:</strong> Collaborate with established players in logistics, finance, and telecommunications.</li>
              </ol>
            </div>
          </div>
        </div>
      </section>

      <!-- Market Feasibility -->
      <section id="market-feasibility" class="section-spacing bg-gray-50">
        <div class="max-w-6xl mx-auto px-6 lg:px-8">
          <div class="fade-in">
            <h2 class="canela text-4xl font-bold text-gray-900 mb-8">Market Feasibility Analysis</h2>

            <h3 class="canela text-3xl font-semibold text-gray-800 mb-6">The African Agricultural Market: A Landscape of Opportunity</h3>

            <div class="grid md:grid-cols-2 gap-8 mb-12">
              <div>
                <p class="text-gray-700 leading-relaxed mb-4">
                  The African continent presents a vast and dynamic agricultural market, characterized by significant untapped potential and a growing need for technological intervention. The agricultural sector remains a cornerstone of the continent&#39;s economy, contributing a substantial <a href="https://www.statista.com/topics/12901/agriculture-in-africa/" class="citation-link">15.4% to the total Gross Domestic Product (GDP)</a>.
                </p>
                <p class="text-gray-700 leading-relaxed">
                  The landscape is dominated by smallholder farmers, who constitute over <a href="https://www.marketdataforecast.com/market-reports/middle-east-and-africa-agriculture-analytics-market" class="citation-link">80% of the agricultural producers in Sub-Saharan Africa</a>, typically operating on less than two hectares of land.
                </p>
              </div>
              <div>
                <img src="https://kimi-web-img.moonshot.cn/img/www.asareca.org/3c97bc4762fa90eeefe0a5e14220dcb2bf26a355.jpg" alt="African smallholder farmers working in agricultural field" class="w-full h-64 object-cover rounded-lg shadow-lg" size="medium" aspect="wide" color="green" style="photo" query="African smallholder farmers working in field" referrerpolicy="no-referrer" data-modified="1" data-score="0.00"/>
              </div>
            </div>

            <h4 class="canela text-2xl font-semibold text-gray-800 mb-4">Market Size and Growth Projections</h4>

            <div class="bg-white rounded-lg shadow-sm p-6 mb-8">
              <div class="overflow-x-auto">
                <table class="w-full text-sm">
                  <thead>
                    <tr class="border-b border-gray-200">
                      <th class="text-left py-3 px-4 font-semibold text-gray-900">Market Segment</th>
                      <th class="text-left py-3 px-4 font-semibold text-gray-900">Projected Value (2024/2025)</th>
                      <th class="text-left py-3 px-4 font-semibold text-gray-900">Projected CAGR</th>
                    </tr>
                  </thead>
                  <tbody class="divide-y divide-gray-100">
                    <tr>
                      <td class="py-3 px-4 text-gray-700">Total African Agriculture Market</td>
                      <td class="py-3 px-4 font-semibold text-green-600">US$269.69 billion (2025)</td>
                      <td class="py-3 px-4 text-gray-700">3.72%</td>
                    </tr>
                    <tr>
                      <td class="py-3 px-4 text-gray-700">African Fresh Vegetables Market</td>
                      <td class="py-3 px-4 font-semibold text-green-600">US$101.58 billion (2025)</td>
                      <td class="py-3 px-4 text-gray-700">10.14% (2025-2030)</td>
                    </tr>
                    <tr>
                      <td class="py-3 px-4 text-gray-700">Middle East &amp; Africa Agriculture Analytics</td>
                      <td class="py-3 px-4 font-semibold text-green-600">US$1.096 billion (2024)</td>
                      <td class="py-3 px-4 text-gray-700">16.1% (2024-2033)</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="mt-4 text-xs text-gray-500">
                <p>Sources: <a href="https://www.statista.com/outlook/io/agriculture/africa" class="citation-link">Statista Agriculture Market Report</a>, <a href="https://www.statista.com/outlook/cmo/food/vegetables/fresh-vegetables/africa" class="citation-link">Statista Fresh Vegetables Report</a>, <a href="https://www.marketdataforecast.com/market-reports/middle-east-and-africa-agriculture-analytics-market" class="citation-link">Middle East and Africa Agriculture Analytics Market Report</a>
                </p>
              </div>
            </div>

            <h4 class="canela text-2xl font-semibold text-gray-800 mb-4">The B2B E-commerce Opportunity</h4>

            <p class="text-gray-700 leading-relaxed mb-6">
              The business-to-business (B2B) e-commerce landscape in agriculture represents a transformative opportunity. Globally, the B2B e-commerce in agriculture market was valued at <a href="https://www.polarismarketresearch.com/industry-analysis/global-b2b-ecommerce-in-agriculture-market" class="citation-link">USD 6.90 billion in 2021</a> and is projected to grow to <strong>USD 11.86 billion by 2030</strong>, at a CAGR of 6.4%.
            </p>

            <div class="pull-quote">
              &#34;The success of platforms like Eatfromfarms demonstrates the viability of this model, even in environments with limited internet access, by leveraging mobile phones for communication.&#34;
            </div>

            <h3 class="canela text-3xl font-semibold text-gray-800 mb-6 mt-12">Competitive Landscape and Case Studies</h3>

            <h4 class="canela text-2xl font-semibold text-gray-800 mb-4">Case Study: AFEX Nigeria</h4>

            <div class="bg-white rounded-lg shadow-sm p-6 mb-8">
              <p class="text-gray-700 leading-relaxed mb-4">
                AFEX Nigeria stands out as a pioneering example of a comprehensive, technology-driven agricultural commodities exchange. The platform facilitates the trade of commodities worth a total of <a href="https://www.builtinafrica.io/blog-post/yusuf-oguntola-afex-nigeria" class="citation-link">$68 million (N28 billion) over five years</a> and has onboarded over <strong>250,000 farmers</strong>.
              </p>
              <p class="text-gray-700 leading-relaxed">
                A key factor in AFEX&#39;s success has been its sophisticated approach to technology development, particularly its focus on building an <strong>&#34;offline-first&#34; system</strong> to overcome the challenges of poor internet connectivity in rural areas.
              </p>
            </div>

            <h4 class="canela text-2xl font-semibold text-gray-800 mb-4">Case Study: Nile (East &amp; Southern Africa)</h4>

            <p class="text-gray-700 leading-relaxed mb-6">
              Nile, a South African agritech startup, has quickly established itself as a key player in the digital transformation of the agricultural sector. In June 2025, Nile raised <a href="https://dabafinance.com/en/news/agritech-funding-nile-south-africa-digital-farming-ecosystem" class="citation-link">ZAR 200 million (approximately US$11.3 million)</a> in a funding round led by the Cathay AfricInvest Innovation Fund.
            </p>
          </div>
        </div>
      </section>

      <!-- Technical Feasibility -->
      <section id="technical-feasibility" class="section-spacing bg-white">
        <div class="max-w-6xl mx-auto px-6 lg:px-8">
          <div class="fade-in">
            <h2 class="canela text-4xl font-bold text-gray-900 mb-8">Technical Feasibility Assessment</h2>

            <h3 class="canela text-3xl font-semibold text-gray-800 mb-6">Core Technology Stack and Architecture</h3>

            <p class="text-gray-700 leading-relaxed mb-8">
              The FarmSense Africa platform is built around seven core pillars: a Smart Farm Assistant (AI), a Farmer Portal, a Supplier Portal, a dual Marketplace (for produce and inputs), an Escrow &amp; Payments system, a Traceability Engine, and a Sustainability &amp; Verification System. This integrated approach is designed to address the entire agricultural value chain.
            </p>

            <div class="bg-gray-50 rounded-lg p-6 mb-8">
              <h4 class="font-semibold text-gray-900 mb-4">Platform Architecture Overview</h4>
              <div class="mermaid-container">
                <div class="mermaid-controls">
                  <button class="mermaid-control-btn zoom-in" title="放大">
                    <i class="fas fa-search-plus"></i>
                  </button>
                  <button class="mermaid-control-btn zoom-out" title="缩小">
                    <i class="fas fa-search-minus"></i>
                  </button>
                  <button class="mermaid-control-btn reset-zoom" title="重置">
                    <i class="fas fa-expand-arrows-alt"></i>
                  </button>
                  <button class="mermaid-control-btn fullscreen" title="全屏查看">
                    <i class="fas fa-expand"></i>
                  </button>
                </div>
                <div class="mermaid" id="architecture-diagram">
                  graph TB
                  A[&#34;Farmer&#34;] --&gt; B[&#34;Smart Farm Assistant&#34;]
                  B --&gt; C[&#34;AI Growth Engine&#34;]
                  C --&gt; D[&#34;Input Marketplace&#34;]
                  C --&gt; E[&#34;Produce Marketplace&#34;]
                  D --&gt; F[&#34;Supplier Portal&#34;]
                  E --&gt; G[&#34;Buyer Portal&#34;]
                  F --&gt; H[&#34;Escrow &amp; Payments&#34;]
                  G --&gt; H
                  H --&gt; I[&#34;Traceability Engine&#34;]
                  I --&gt; J[&#34;Sustainability System&#34;]
                  J --&gt; K[&#34;Admin Dashboard&#34;]

                  style A fill:#dcfdf4,stroke:#059669,stroke-width:2px,color:#047857
                  style B fill:#f0f9ff,stroke:#0284c7,stroke-width:2px,color:#0369a1
                  style C fill:#fdf4ff,stroke:#a855f7,stroke-width:2px,color:#7c3aed
                  style D fill:#fef3c7,stroke:#d97706,stroke-width:2px,color:#b45309
                  style E fill:#fef3c7,stroke:#d97706,stroke-width:2px,color:#b45309
                  style F fill:#f0f9ff,stroke:#0284c7,stroke-width:2px,color:#0369a1
                  style G fill:#f0f9ff,stroke:#0284c7,stroke-width:2px,color:#0369a1
                  style H fill:#f3f4f6,stroke:#059669,stroke-width:2px,color:#111827
                  style I fill:#f0fdf4,stroke:#059669,stroke-width:2px,color:#047857
                  style J fill:#f0fdf4,stroke:#059669,stroke-width:2px,color:#047857
                  style K fill:#f9fafb,stroke:#374151,stroke-width:2px,color:#111827
                </div>
              </div>
            </div>

            <h4 class="canela text-2xl font-semibold text-gray-800 mb-4">The AI-Powered Growth Assistant</h4>

            <p class="text-gray-700 leading-relaxed mb-6">
              The viability of FarmSense Africa&#39;s AI-powered Growth Assistant is substantiated by several impactful case studies across the continent. Digital Green&#39;s Farmer Chat &amp; AI-Powered Chatbot has successfully deployed an AI-powered chatbot that has reached <a href="https://blogs.worldbank.org/en/agfood/can-ai-give-small-scale-producers-the-right-advice-" class="citation-link">460,000 farmers and extension workers</a> across five countries.
            </p>

            <div class="grid md:grid-cols-2 gap-6 mb-8">
              <div class="bg-blue-50 p-6 rounded-lg">
                <h5 class="font-semibold text-blue-800 mb-2">iSDA Virtual Agronomist</h5>
                <p class="text-sm text-gray-700 mb-2">Serves over 350,000 plots across seven African countries via WhatsApp.</p>
                <p class="text-sm text-blue-600 font-medium">Profit gains up to 4.7x, Yield increases 1.6x</p>
              </div>
              <div class="bg-green-50 p-6 rounded-lg">
                <h5 class="font-semibold text-green-800 mb-2">PlantVillage Nuru AI</h5>
                <p class="text-sm text-gray-700 mb-2">AI and computer vision for plant disease diagnosis in Kenya.</p>
                <p class="text-sm text-green-600 font-medium">Over 10,000 users, 40% average yield increase</p>
              </div>
            </div>

            <h4 class="canela text-2xl font-semibold text-gray-800 mb-4">Overcoming Connectivity Challenges</h4>

            <p class="text-gray-700 leading-relaxed mb-4">
              The digital divide between Africa&#39;s urban and rural populations remains a significant challenge. While <a href="https://www.ecofinagency.com/news-digital/0506-47164-africa-s-internet-growth-outpaces-world-but-gaps-in-access-remain-deep" class="citation-link">57% of urban residents</a> have internet access, this figure plummets to just <strong>23% in rural areas</strong>.
            </p>

            <div class="pull-quote">
              &#34;The &#39;Offline-First&#39; system, as outlined in the FarmSense blueprint, is not merely a feature but a fundamental necessity to ensure functionality in low-connectivity environments.&#34;
            </div>

            <h4 class="canela text-2xl font-semibold text-gray-800 mb-4 mt-8">AFEX Nigeria: Offline-First Success Story</h4>

            <p class="text-gray-700 leading-relaxed mb-6">
              AFEX&#39;s custom-built ERP system, WorkBench, includes both a mobile app for field officers and a desktop app for warehouse managers that are designed to work <a href="https://www.builtinafrica.io/blog-post/yusuf-oguntola-afex-nigeria" class="citation-link">completely offline</a>. These applications store data locally and automatically sync with the cloud whenever an internet connection becomes available.
            </p>

            <h3 class="canela text-3xl font-semibold text-gray-800 mb-6 mt-12">Advanced Technology Integration</h3>

            <h4 class="canela text-2xl font-semibold text-gray-800 mb-4">Blockchain for Enhanced Traceability</h4>

            <p class="text-gray-700 leading-relaxed mb-6">
              The integration of blockchain technology presents a significant opportunity for FarmSense Africa to build a highly transparent, trustworthy, and efficient agricultural ecosystem. Blockchain can create an immutable and transparent record of transactions and product journeys, combating food fraud which costs the global food industry approximately <a href="https://www.fujitsu.com/us/imagesgig5/Blockchain-DLT-Trust-and-Trace.pdf" class="citation-link">$49 billion annually</a>.
            </p>

            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-r-lg">
              <h5 class="font-semibold text-yellow-800 mb-2">Smart Contracts Potential</h5>
              <p class="text-sm text-gray-700">
                Smart contracts could be programmed to automatically release payment to a farmer once a buyer confirms receipt of goods, aligning perfectly with FarmSense&#39;s proposed escrow system and reducing administrative overhead.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Financial Viability -->
      <section id="financial-viability" class="section-spacing bg-gray-50">
        <div class="max-w-6xl mx-auto px-6 lg:px-8">
          <div class="fade-in">
            <h2 class="canela text-4xl font-bold text-gray-900 mb-8">Financial Viability and Business Model</h2>

            <h3 class="canela text-3xl font-semibold text-gray-800 mb-6">The African Agritech Funding Landscape</h3>

            <p class="text-gray-700 leading-relaxed mb-6">
              African agrifoodtech startups raised a total of <a href="https://agfundernews.com/ag-marketplaces-fintech-startups-are-the-most-popular-category-of-african-agrifoodtech-investment-in-2024" class="citation-link">$154 million in the first half of 2024</a>, with &#34;Ag Marketplaces &amp; Fintech&#34; emerging as the most popular category, accounting for 41% of the total investment.
            </p>

            <div class="bg-white rounded-lg shadow-sm p-6 mb-8">
              <h4 class="font-semibold text-gray-900 mb-4">Recent Funding Highlights (2024-2025)</h4>
              <div class="space-y-4">
                <div class="flex justify-between items-center py-2 border-b border-gray-100">
                  <div>
                    <div class="font-medium text-gray-900">Nile (South Africa)</div>
                    <div class="text-sm text-gray-600">B2B marketplace for produce &amp; inputs</div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-green-600">$11.3M</div>
                    <div class="text-sm text-gray-500">Series A</div>
                  </div>
                </div>
                <div class="flex justify-between items-center py-2 border-b border-gray-100">
                  <div>
                    <div class="font-medium text-gray-900">Pula Advisors (Kenya)</div>
                    <div class="text-sm text-gray-600">Digital agricultural insurance</div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-green-600">$20M</div>
                    <div class="text-sm text-gray-500">Series B</div>
                  </div>
                </div>
                <div class="flex justify-between items-center py-2 border-b border-gray-100">
                  <div>
                    <div class="font-medium text-gray-900">Apollo Agriculture (Kenya)</div>
                    <div class="text-sm text-gray-600">Agricultural inputs &amp; financing</div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-green-600">$10M</div>
                    <div class="text-sm text-gray-500">Debt</div>
                  </div>
                </div>
                <div class="flex justify-between items-center py-2">
                  <div>
                    <div class="font-medium text-gray-900">Farm to Feed (Kenya)</div>
                    <div class="text-sm text-gray-600">Surplus produce marketplace</div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-green-600">$1.5M</div>
                    <div class="text-sm text-gray-500">Seed</div>
                  </div>
                </div>
              </div>
            </div>

            <h3 class="canela text-3xl font-semibold text-gray-800 mb-6">Potential Revenue Streams</h3>

            <div class="grid md:grid-cols-2 gap-6 mb-8">
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <div class="flex items-center mb-4">
                  <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4">
                    <i class="fas fa-exchange-alt text-green-600"></i>
                  </div>
                  <h4 class="font-semibold text-gray-900">Transaction Fees</h4>
                </div>
                <p class="text-sm text-gray-700">Collection of transaction fees on both produce and input marketplaces, justified by value in market access, price transparency, and payment security.</p>
              </div>

              <div class="bg-white p-6 rounded-lg shadow-sm">
                <div class="flex items-center mb-4">
                  <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4">
                    <i class="fas fa-brain text-blue-600"></i>
                  </div>
                  <h4 class="font-semibold text-gray-900">Premium AI Subscriptions</h4>
                </div>
                <p class="text-sm text-gray-700">Freemium model with advanced features like detailed yield forecasts, pest modeling, and agronomist consultations.</p>
              </div>

              <div class="bg-white p-6 rounded-lg shadow-sm">
                <div class="flex items-center mb-4">
                  <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4">
                    <i class="fas fa-chart-line text-purple-600"></i>
                  </div>
                  <h4 class="font-semibold text-gray-900">Data Monetization</h4>
                </div>
                <p class="text-sm text-gray-700">Aggregated, anonymized data insights for input suppliers, financial institutions, and policymakers.</p>
              </div>

              <div class="bg-white p-6 rounded-lg shadow-sm">
                <div class="flex items-center mb-4">
                  <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center mr-4">
                    <i class="fas fa-credit-card text-yellow-600"></i>
                  </div>
                  <h4 class="font-semibold text-gray-900">Financial Services</h4>
                </div>
                <p class="text-sm text-gray-700">Facilitating access to credit through alternative credit scoring and digital wallet services.</p>
              </div>
            </div>

            <h3 class="canela text-3xl font-semibold text-gray-800 mb-6">Economic Value of Traceability</h3>

            <p class="text-gray-700 leading-relaxed mb-6">
              The ability to provide verifiable proof of sustainable and ethical farming practices is a key economic driver for FarmSense Africa. Research shows that a <a href="https://ideas.repec.org/a/ags/afjecr/362934.html" class="citation-link">1% expansion in crop production</a> decreases CO2 emissions by 0.31%, creating opportunities for carbon credit markets.
            </p>

            <div class="pull-quote">
              &#34;The ISCC certification is particularly relevant for the bio-economy and circular economy sectors, enabling access to premium markets and building deep-seated trust with buyers.&#34;
            </div>

            <div class="bg-white rounded-lg shadow-sm p-6">
              <h4 class="font-semibold text-gray-900 mb-4">Carbon Market Potential</h4>
              <p class="text-gray-700 leading-relaxed mb-4">
                Agricultural carbon projects in East Africa demonstrate real-world viability. A project by Vi Agroforestry and ECOTUST successfully generated <a href="https://ccafs.cgiar.org/es/node/113191" class="citation-link">1,951,437 tCO2e in greenhouse gas reduction credits</a> between 2010 and 2019, benefiting over 38,500 farm households.
              </p>
              <div class="bg-green-50 p-4 rounded-lg">
                <p class="text-sm text-green-800 font-medium">
                  Key Insight: The platform&#39;s Sustainability Engine can transform abstract environmental benefits into tangible financial assets through verified carbon credit markets.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Farmer Adoption -->
      <section id="farmer-adoption" class="section-spacing bg-white">
        <div class="max-w-6xl mx-auto px-6 lg:px-8">
          <div class="fade-in">
            <h2 class="canela text-4xl font-bold text-gray-900 mb-8">Farmer Adoption and User Experience</h2>

            <h3 class="canela text-3xl font-semibold text-gray-800 mb-6">Barriers to Digital Adoption in Rural Africa</h3>

            <div class="grid md:grid-cols-3 gap-6 mb-8">
              <div class="bg-orange-50 p-6 rounded-lg">
                <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4">
                  <i class="fas fa-mobile-alt text-orange-600"></i>
                </div>
                <h4 class="font-semibold text-orange-800 mb-2">Digital Literacy Gaps</h4>
                <p class="text-sm text-gray-700">Many farmers lack exposure to digital technologies, requiring simple, intuitive interfaces and extensive user education.</p>
              </div>

              <div class="bg-red-50 p-6 rounded-lg">
                <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mb-4">
                  <i class="fas fa-dollar-sign text-red-600"></i>
                </div>
                <h4 class="font-semibold text-red-800 mb-2">Device Affordability</h4>
                <p class="text-sm text-gray-700">High cost of smartphones and limited electricity access require offline-first design and low-tech solutions like USSD.</p>
              </div>

              <div class="bg-blue-50 p-6 rounded-lg">
                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4">
                  <i class="fas fa-language text-blue-600"></i>
                </div>
                <h4 class="font-semibold text-blue-800 mb-2">Language Diversity</h4>
                <p class="text-sm text-gray-700">Africa&#39;s linguistic diversity requires deep localization beyond simple translation to build trust and usability.</p>
              </div>
            </div>

            <h3 class="canela text-3xl font-semibold text-gray-800 mb-6">Strategies for Driving Adoption</h3>

            <h4 class="canela text-2xl font-semibold text-gray-800 mb-4">Leveraging Social Norms and Peer Influence</h4>

            <p class="text-gray-700 leading-relaxed mb-6">
              The concept of &#34;nudging&#34; is a powerful tool for promoting adoption of sustainable agricultural practices. An FAO initiative in Zambia used <a href="https://www.fao.org/newsroom/story/helping-climate-resilience-along-with-a-little-nudging/en" class="citation-link">&#34;demo plots&#34; to create a powerful &#34;nudge&#34;</a>, where farmers could see superior results of climate-resilient techniques.
            </p>

            <div class="bg-white rounded-lg shadow-sm p-6 mb-8">
              <h4 class="font-semibold text-gray-900 mb-4">Community Showcase Feature</h4>
              <p class="text-gray-700 text-sm mb-4">
                A digital version of demo plots where successful farmers share photos and yield data, creating peer-to-peer learning opportunities.
              </p>
              <div class="bg-green-50 p-4 rounded-lg">
                <p class="text-sm text-green-800">
                  <strong>Expected Impact:</strong> Social comparison nudges have been shown to increase adoption rates by <a href="https://www.sciencedirect.com/science/article/pii/S2211464524001581" class="citation-link">12% compared to control groups</a>.
                </p>
              </div>
            </div>

            <h4 class="canela text-2xl font-semibold text-gray-800 mb-4">The Role of Community Leaders</h4>

            <div class="pull-quote">
              &#34;The key to true change lies not only in the resources we provide but in the minds we transform.&#34;
              <cite class="block text-sm mt-2 not-italic">— Chief Ndake, Nyimba region, Zambia</cite>
            </div>

            <p class="text-gray-700 leading-relaxed mb-6">
              Engaging influential community leaders is critical for driving large-scale behavior change. The FAO&#39;s initiative in Zambia found that enlisting the support of chiefs was <a href="https://www.fao.org/newsroom/story/helping-climate-resilience-along-with-a-little-nudging/en" class="citation-link">&#34;vital in changing people&#39;s mindsets&#34;</a> on issues like preserving indigenous trees and combatting climate change.
            </p>

            <h3 class="canela text-3xl font-semibold text-gray-800 mb-6">Building Trust through Verification</h3>

            <div class="grid md:grid-cols-2 gap-6">
              <div class="bg-white p-6 rounded-lg shadow-sm">
                <h4 class="font-semibold text-gray-900 mb-4">Escrow System Benefits</h4>
                <ul class="space-y-2 text-sm text-gray-700">
                  <li class="flex items-start">
                    <i class="fas fa-shield-alt text-green-500 mr-2 mt-1"></i>
                    <span>Protects buyers&#39; payments until goods are received</span>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                    <span>Ensures sellers are paid upon confirmed delivery</span>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-lock text-green-500 mr-2 mt-1"></i>
                    <span>Automated delivery PIN system adds security</span>
                  </li>
                </ul>
              </div>

              <div class="bg-white p-6 rounded-lg shadow-sm">
                <h4 class="font-semibold text-gray-900 mb-4">Verification Layers</h4>
                <ul class="space-y-2 text-sm text-gray-700">
                  <li class="flex items-start">
                    <i class="fas fa-user-check text-blue-500 mr-2 mt-1"></i>
                    <span>Business registration verification</span>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-certificate text-blue-500 mr-2 mt-1"></i>
                    <span>Product certification validation</span>
                  </li>
                  <li class="flex items-start">
                    <i class="fas fa-camera text-blue-500 mr-2 mt-1"></i>
                    <span>AI photo fraud detection</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Regulatory Compliance -->
      <section id="regulatory-compliance" class="section-spacing bg-gray-50">
        <div class="max-w-6xl mx-auto px-6 lg:px-8">
          <div class="fade-in">
            <h2 class="canela text-4xl font-bold text-gray-900 mb-8">Regulatory and Compliance Hurdles</h2>

            <p class="text-gray-700 leading-relaxed mb-8">
              Navigating the complex and fragmented regulatory landscape across the African continent is a significant challenge for any pan-African enterprise. FarmSense Africa will need to contend with diverse regulations covering cross-border trade, data privacy, financial services, and sustainability standards.
            </p>

            <div class="grid md:grid-cols-2 gap-8 mb-8">
              <div>
                <h3 class="canela text-2xl font-semibold text-gray-800 mb-4">Cross-Border Trade Regulations</h3>
                <p class="text-gray-700 leading-relaxed mb-4">
                  Each country has its own rules governing agricultural imports and exports, including sanitary and phytosanitary (SPS) measures, quality standards, and customs documentation.
                </p>
                <div class="bg-white p-4 rounded-lg">
                  <h4 class="font-medium text-gray-900 mb-2">Key Requirements</h4>
                  <ul class="text-sm text-gray-700 space-y-1">
                    <li>• Government trade portal integration</li>
                    <li>• Automated document generation</li>
                    <li>• Real-time regulatory updates</li>
                    <li>• Partnerships with customs brokers</li>
                  </ul>
                </div>
              </div>

              <div>
                <h3 class="canela text-2xl font-semibold text-gray-800 mb-4">Data Privacy Compliance</h3>
                <p class="text-gray-700 leading-relaxed mb-4">
                  Compliance with data protection laws like Nigeria&#39;s NDPR and Kenya&#39;s Data Protection Act is essential for building trust.
                </p>
                <div class="bg-white p-4 rounded-lg">
                  <h4 class="font-medium text-gray-900 mb-2">Privacy by Design</h4>
                  <ul class="text-sm text-gray-700 space-y-1">
                    <li>• Robust cybersecurity measures</li>
                    <li>• Clear data usage policies</li>
                    <li>• User consent mechanisms</li>
                    <li>• Data encryption standards</li>
                  </ul>
                </div>
              </div>
            </div>

            <h3 class="canela text-2xl font-semibold text-gray-800 mb-4">Financial Services Regulations</h3>

            <p class="text-gray-700 leading-relaxed mb-6">
              The platform&#39;s escrow and digital payment system will bring it under the purview of financial services regulations in each country of operation. Strict &#34;Know Your Customer&#34; (KYC) and &#34;Anti-Money Laundering&#34; (AML) requirements must be met.
            </p>

            <div class="bg-white rounded-lg shadow-sm p-6 mb-8">
              <h4 class="font-semibold text-gray-900 mb-4">Compliance Framework Components</h4>
              <div class="grid md:grid-cols-3 gap-4">
                <div class="text-center">
                  <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3">
                    <i class="fas fa-user-tie text-blue-600 text-xl"></i>
                  </div>
                  <h5 class="font-medium text-gray-900 mb-2">KYC/AML</h5>
                  <p class="text-xs text-gray-600">Robust user verification processes</p>
                </div>
                <div class="text-center">
                  <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3">
                    <i class="fas fa-certificate text-green-600 text-xl"></i>
                  </div>
                  <h5 class="font-medium text-gray-900 mb-2">Licensing</h5>
                  <p class="text-xs text-gray-600">Partnerships with licensed institutions</p>
                </div>
                <div class="text-center">
                  <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3">
                    <i class="fas fa-shield-alt text-purple-600 text-xl"></i>
                  </div>
                  <h5 class="font-medium text-gray-900 mb-2">Security</h5>
                  <p class="text-xs text-gray-600">Advanced fraud prevention measures</p>
                </div>
              </div>
            </div>

            <h3 class="canela text-2xl font-semibold text-gray-800 mb-4">Sustainability Certification Standards</h3>

            <p class="text-gray-700 leading-relaxed mb-6">
              Adherence to voluntary and mandatory certification standards like Fairtrade and ISCC is crucial for accessing premium markets. The platform must support farmers and suppliers in achieving and maintaining these certifications.
            </p>

            <div class="bg-white rounded-lg shadow-sm p-6">
              <h4 class="font-semibold text-gray-900 mb-4">Certification Support Framework</h4>
              <div class="space-y-4">
                <div class="flex items-start">
                  <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center mr-3 mt-1">
                    <i class="fas fa-leaf text-green-600 text-sm"></i>
                  </div>
                  <div>
                    <h5 class="font-medium text-gray-900">Fairtrade Certification</h5>
                    <p class="text-sm text-gray-700">Guarantees minimum prices and social premiums for farmers</p>
                  </div>
                </div>
                <div class="flex items-start">
                  <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3 mt-1">
                    <i class="fas fa-recycle text-blue-600 text-sm"></i>
                  </div>
                  <div>
                    <h5 class="font-medium text-gray-900">ISCC Certification</h5>
                    <p class="text-sm text-gray-700">International Sustainability and Carbon Certification for bio-economy sectors</p>
                  </div>
                </div>
                <div class="flex items-start">
                  <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-3 mt-1">
                    <i class="fas fa-globe text-purple-600 text-sm"></i>
                  </div>
                  <div>
                    <h5 class="font-medium text-gray-900">EU Deforestation Regulation</h5>
                    <p class="text-sm text-gray-700">Compliance with emerging international sustainability standards</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-12 text-center">
              <div class="inline-block bg-white rounded-lg shadow-sm p-8 border-t-4 border-green-500">
                <h3 class="canela text-2xl font-semibold text-gray-900 mb-4">Conclusion</h3>
                <p class="text-gray-700 leading-relaxed max-w-3xl mx-auto">
                  FarmSense Africa represents a <strong>highly feasible</strong> and timely solution to Africa&#39;s agricultural challenges. While significant hurdles exist—particularly the rural digital divide, farmer adoption barriers, and complex regulatory environments—the platform&#39;s integrated approach, validated by successful case studies across the continent, positions it well to capture a significant share of the burgeoning African agritech market.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-6xl mx-auto px-6 lg:px-8">
          <div class="grid md:grid-cols-3 gap-8">
            <div>
              <h3 class="canela text-xl font-semibold mb-4">About This Study</h3>
              <p class="text-gray-400 text-sm">
                This feasibility study analyzes the viability of FarmSense Africa, a pan-African agritech ecosystem designed to transform agricultural value chains through AI, traceability, and trust.
              </p>
            </div>
            <div>
              <h3 class="canela text-xl font-semibold mb-4">Key Sources</h3>
              <ul class="text-gray-400 text-sm space-y-1">
                <li>Statista Agriculture Market Reports</li>
                <li>World Bank Agricultural Data</li>
                <li>AFEX Nigeria Case Study</li>
                <li>FAO Agricultural Research</li>
              </ul>
            </div>
            <div>
              <h3 class="canela text-xl font-semibold mb-4">Methodology</h3>
              <p class="text-gray-400 text-sm">
                Analysis based on market data, technical feasibility assessments, competitive landscape reviews, and financial modeling of African agritech ecosystems.
              </p>
            </div>
          </div>
          <div class="border-t border-gray-700 mt-8 pt-8 text-center">
            <p class="text-gray-400 text-sm">
              FarmSense Africa Feasibility Study • Comprehensive Analysis of Pan-African Agritech Ecosystem Viability
            </p>
          </div>
        </div>
      </footer>
    </div>

    <script>
        // Initialize Mermaid with custom configuration
        mermaid.initialize({ 
            startOnLoad: true, 
            theme: 'base',
            themeVariables: {
                primaryColor: '#f0fdf4',
                primaryTextColor: '#111827',
                primaryBorderColor: '#059669',
                lineColor: '#6b7280',
                secondaryColor: '#f0f9ff',
                tertiaryColor: '#fdf4ff',
                background: '#ffffff',
                mainBkg: '#ffffff',
                secondaryBkg: '#f9fafb',
                tertiaryBkg: '#f3f4f6'
            },
            flowchart: {
                useMaxWidth: false,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        // Initialize Mermaid Controls for zoom and pan
        function initializeMermaidControls() {
            const containers = document.querySelectorAll('.mermaid-container');

            containers.forEach(container => {
            const mermaidElement = container.querySelector('.mermaid');
            let scale = 1;
            let isDragging = false;
            let startX, startY, translateX = 0, translateY = 0;

            // 触摸相关状态
            let isTouch = false;
            let touchStartTime = 0;
            let initialDistance = 0;
            let initialScale = 1;
            let isPinching = false;

            // Zoom controls
            const zoomInBtn = container.querySelector('.zoom-in');
            const zoomOutBtn = container.querySelector('.zoom-out');
            const resetBtn = container.querySelector('.reset-zoom');
            const fullscreenBtn = container.querySelector('.fullscreen');

            function updateTransform() {
                mermaidElement.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;

                if (scale > 1) {
                container.classList.add('zoomed');
                } else {
                container.classList.remove('zoomed');
                }

                mermaidElement.style.cursor = isDragging ? 'grabbing' : 'grab';
            }

            if (zoomInBtn) {
                zoomInBtn.addEventListener('click', () => {
                scale = Math.min(scale * 1.25, 4);
                updateTransform();
                });
            }

            if (zoomOutBtn) {
                zoomOutBtn.addEventListener('click', () => {
                scale = Math.max(scale / 1.25, 0.3);
                if (scale <= 1) {
                    translateX = 0;
                    translateY = 0;
                }
                updateTransform();
                });
            }

            if (resetBtn) {
                resetBtn.addEventListener('click', () => {
                scale = 1;
                translateX = 0;
                translateY = 0;
                updateTransform();
                });
            }

            if (fullscreenBtn) {
                fullscreenBtn.addEventListener('click', () => {
                if (container.requestFullscreen) {
                    container.requestFullscreen();
                } else if (container.webkitRequestFullscreen) {
                    container.webkitRequestFullscreen();
                } else if (container.msRequestFullscreen) {
                    container.msRequestFullscreen();
                }
                });
            }

            // Mouse Events
            mermaidElement.addEventListener('mousedown', (e) => {
                if (isTouch) return; // 如果是触摸设备，忽略鼠标事件

                isDragging = true;
                startX = e.clientX - translateX;
                startY = e.clientY - translateY;
                mermaidElement.style.cursor = 'grabbing';
                updateTransform();
                e.preventDefault();
            });

            document.addEventListener('mousemove', (e) => {
                if (isDragging && !isTouch) {
                translateX = e.clientX - startX;
                translateY = e.clientY - startY;
                updateTransform();
                }
            });

            document.addEventListener('mouseup', () => {
                if (isDragging && !isTouch) {
                isDragging = false;
                mermaidElement.style.cursor = 'grab';
                updateTransform();
                }
            });

            document.addEventListener('mouseleave', () => {
                if (isDragging && !isTouch) {
                isDragging = false;
                mermaidElement.style.cursor = 'grab';
                updateTransform();
                }
            });

            // 获取两点之间的距离
            function getTouchDistance(touch1, touch2) {
                return Math.hypot(
                touch2.clientX - touch1.clientX,
                touch2.clientY - touch1.clientY
                );
            }

            // Touch Events - 触摸事件处理
            mermaidElement.addEventListener('touchstart', (e) => {
                isTouch = true;
                touchStartTime = Date.now();

                if (e.touches.length === 1) {
                // 单指拖动
                isPinching = false;
                isDragging = true;

                const touch = e.touches[0];
                startX = touch.clientX - translateX;
                startY = touch.clientY - translateY;

                } else if (e.touches.length === 2) {
                // 双指缩放
                isPinching = true;
                isDragging = false;

                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                initialDistance = getTouchDistance(touch1, touch2);
                initialScale = scale;
                }

                e.preventDefault();
            }, { passive: false });

            mermaidElement.addEventListener('touchmove', (e) => {
                if (e.touches.length === 1 && isDragging && !isPinching) {
                // 单指拖动
                const touch = e.touches[0];
                translateX = touch.clientX - startX;
                translateY = touch.clientY - startY;
                updateTransform();

                } else if (e.touches.length === 2 && isPinching) {
                // 双指缩放
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                const currentDistance = getTouchDistance(touch1, touch2);

                if (initialDistance > 0) {
                    const newScale = Math.min(Math.max(
                    initialScale * (currentDistance / initialDistance),
                    0.3
                    ), 4);
                    scale = newScale;
                    updateTransform();
                }
                }

                e.preventDefault();
            }, { passive: false });

            mermaidElement.addEventListener('touchend', (e) => {
                // 重置状态
                if (e.touches.length === 0) {
                isDragging = false;
                isPinching = false;
                initialDistance = 0;

                // 延迟重置isTouch，避免鼠标事件立即触发
                setTimeout(() => {
                    isTouch = false;
                }, 100);
                } else if (e.touches.length === 1 && isPinching) {
                // 从双指变为单指，切换为拖动模式
                isPinching = false;
                isDragging = true;

                const touch = e.touches[0];
                startX = touch.clientX - translateX;
                startY = touch.clientY - translateY;
                }

                updateTransform();
            });

            mermaidElement.addEventListener('touchcancel', (e) => {
                isDragging = false;
                isPinching = false;
                initialDistance = 0;

                setTimeout(() => {
                isTouch = false;
                }, 100);

                updateTransform();
            });

            // Enhanced wheel zoom with better center point handling
            container.addEventListener('wheel', (e) => {
                e.preventDefault();
                const rect = container.getBoundingClientRect();
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;

                const delta = e.deltaY > 0 ? 0.9 : 1.1;
                const newScale = Math.min(Math.max(scale * delta, 0.3), 4);

                // Adjust translation to zoom towards center
                if (newScale !== scale) {
                const scaleDiff = newScale / scale;
                translateX = translateX * scaleDiff;
                translateY = translateY * scaleDiff;
                scale = newScale;

                if (scale <= 1) {
                    translateX = 0;
                    translateY = 0;
                }

                updateTransform();
                }
            });

            // Initialize display
            updateTransform();
            });
        }

        // Initialize interactions after mermaid diagrams are rendered
        document.addEventListener('DOMContentLoaded', function() {
            // Wait for mermaid to render, then initialize controls
            setTimeout(() => {
                initializeMermaidControls();
            }, 1000);
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Fade in animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Mobile TOC toggle
        function toggleTOC() {
            const toc = document.querySelector('.toc-fixed');
            toc.classList.toggle('open');
        }

        // Close TOC when clicking outside
        document.addEventListener('click', function(event) {
            const toc = document.querySelector('.toc-fixed');
            const mobileButton = document.querySelector('.mobile-menu-button');
            
            // Only if we are in mobile view and TOC is open
            if (window.innerWidth <= 1024 && toc.classList.contains('open')) {
                // Check if click is outside TOC and not on hamburger button
                if (!toc.contains(event.target) && event.target !== mobileButton) {
                    toc.classList.remove('open');
                }
            }
        });

        // Add mobile menu button for smaller screens
        if (window.innerWidth <= 1024) {
            const mobileButton = document.createElement('button');
            mobileButton.innerHTML = '<i class="fas fa-bars"></i>';
            mobileButton.className = 'mobile-menu-button fixed top-4 left-4 z-50 bg-white p-3 rounded-lg shadow-lg lg:hidden';
            mobileButton.onclick = toggleTOC;
            document.body.appendChild(mobileButton);
        }

        // Handle window resize
        window.addEventListener('resize', function() {
            const toc = document.querySelector('.toc-fixed');
            const mobileButton = document.querySelector('.mobile-menu-button');
            
            if (window.innerWidth > 1024) {
                // In desktop view, ensure TOC is visible and remove mobile button
                toc.classList.remove('open');
                if (mobileButton) {
                    mobileButton.remove();
                }
            } else {
                // In mobile view, add mobile button if not present
                if (!mobileButton) {
                    const newMobileButton = document.createElement('button');
                    newMobileButton.innerHTML = '<i class="fas fa-bars"></i>';
                    newMobileButton.className = 'mobile-menu-button fixed top-4 left-4 z-50 bg-white p-3 rounded-lg shadow-lg lg:hidden';
                    newMobileButton.onclick = toggleTOC;
                    document.body.appendChild(newMobileButton);
                }
            }
        });
    </script>
  

</body></html>
